# Children Rewards App - 功能需求规格说明书

**版本**: 1.0.0 (Based on High-Fidelity Prototype)
**最后更新**: 2025-12-19

## 1. 项目概览
**Children Rewards** 是一款面向家庭的儿童行为管理与激励应用。通过可视化的积分（星星）奖惩机制，帮助家长培养宝贝的良好习惯，并提供一个充满乐趣的“赚取-消费”闭环体验。

---

## 2. 核心功能模块

### 2.1 首页 (Home Dashboard)
**页面**: `index.html`
*   **[F-01-01] 宝贝列表展示**
    *   以大卡片形式展示家庭中所有宝贝的概览信息。
    *   卡片内容包括：随机生成的可爱头像 (DiceBear API)、姓名、性别图标、年龄。
    *   **核心数据**：醒目展示当前积分余额（黄色胶囊样式）。
*   **[F-01-02] 快速添加入口**
    *   底部提供醒目的 "Add another child" 按钮，支持快速创建新档案。
*   **[F-01-03] 导航跳转**
    *   点击宝贝卡片 -> 跳转至 **[管理中心]**。
    *   点击底部导航 "Shop" -> 跳转至 **[奖励商城]**。
    *   点击底部导航 "Manage" -> 跳转至 **[系统设置]**。

### 2.2 宝贝管理中心 (Child Management)
**页面**: `child-manage.html`
*   **[F-02-01] 档案概览**
    *   顶部展示大头像、姓名、性别、年龄标签。
    *   **积分仪表盘**：通过 "Stars" 勋章展示当前可用积分。
    *   **编辑入口**：右上角提供编辑按钮，跳转至 **[编辑资料]**。
*   **[F-02-02] 功能菜单**
    *   提供三个核心管理入口，采用统一的图标+文字列表样式：
        1.  **积分记录 (Points History)**：查看收支明细。
        2.  **自定义规则 (Custom Rules)**：配置奖惩项。
        3.  **兑换记录 (Reward History)**：查看已兑换商品。
*   **[F-02-03] 档案管理**
    *   底部提供红色的 "Delete Child Profile" 按钮。
    *   **安全确认**：点击删除时，必须弹出二次确认模态框 (Confirm Modal)。

### 2.3 档案编辑与新增 (Profile Editor)
**页面**: `add-child.html`, `edit-child.html`
*   **[F-03-01] 头像工坊**
    *   支持两种头像设置方式：
        1.  **随机生成**：点击右下角刷新按钮，随机生成卡通头像。
        2.  **本地上传**：点击头像区域，调用系统文件选择器上传照片。
*   **[F-03-02] 基础信息表单**
    *   **姓名**：必填文本输入。
    *   **性别**：大按钮切换 (Boy/Girl)，选中高亮。
    *   **生日**：日期选择器，用于自动计算年龄。
*   **[F-03-03] 数据保存**
    *   提交前进行二次确认。

### 2.4 积分流水与操作 (Points System)
**页面**: `points-history.html`, `add-record.html`
*   **[F-04-01] 积分仪表盘**
    *   展示三大核心数据：当前余额、累计获得 (绿色背景)、累计扣除 (红色背景)。
*   **[F-04-02] 流水列表**
    *   **时间轴设计**：按 "Today", "Yesterday" 分组展示。
    *   **明细卡片**：包含规则图标、名称、具体时间、备注信息（可选）。
    *   **积分变动**：绿色 (+15) 代表奖励，红色 (-20) 代表惩罚，灰色 (-100) 代表兑换。
    *   **快捷筛选**：顶部提供 All / Earned / Spent 切换标签，支持自动过滤列表。
*   **[F-04-03] 添加记录 (FAB)**
    *   右下角悬浮按钮 (+) 进入添加流程。
*   **[F-04-04] 记录录入流程**
    *   **模式切换**：顶部 Tab 切换 "Reward" (绿) 或 "Punish" (红)。
    *   **规则选择**：自定义下拉菜单，展示图标和名称，支持联动。
    *   **分数联动**：选择规则后，自动填入默认分数，也支持手动修改。
    *   **备注录入**：可选填文本备注。
    *   **提交确认**：点击 Confirm 弹出二次确认框。

### 2.5 规则配置 (Rules Configuration)
**页面**: `rules-manage.html`, `add-rule.html`, `edit-rule.html`
*   **[F-05-01] 规则列表管理**
    *   支持 Reward/Punish 分类切换。
    *   **快速开关**：列表项右侧提供 Toggle 开关，可快速停用规则。
    *   **快速删除**：提供圆形删除按钮，点击后需二次确认。
*   **[F-05-02] 规则定义**
    *   **所见即所得**：顶部实时预览规则卡片样式。
    *   **快捷分数**：提供 +5, +10, +20 快捷按钮或手动输入。
    *   **图标库**：提供预设的 Material Symbols 图标网格供选择。

### 2.6 奖励商城 (Rewards Store)
**页面**: `rewards-store.html`, `reward-detail.html`, `rewards-manage.html`
*   **[F-06-01] 宝贝视角 - 商城浏览**
    *   **钱包展示**：顶部大卡片显示当前可用星星。
    *   **商品展示**：精美的圆角卡片，包含大图、名称、所需星星。
    *   **分类筛选**：支持 All, Privilege, Toy, Snack 标签切换。
    *   **状态反馈**：若积分不足，商品卡片自动变灰并显示锁头图标（UI逻辑预留）。
*   **[F-06-02] 购买流程**
    *   点击商品进入详情页。
    *   展示大图、详细描述、库存状态。
    *   底部 "Redeem Now" 按钮，点击后二次确认，跳转至兑换记录。
*   **[F-06-03] 家长视角 - 商品管理**
    *   入口：商城页右上角设置图标。
    *   功能：新增/编辑商品，设置价格、名称、分类、库存（无限/有限）。
    *   **图片支持**：支持上传自定义商品图片或使用内置图标。
    *   **上下架**：提供 Toggle 开关快速下架商品。

### 2.7 兑换记录 (Exchange History)
**页面**: `exchange-history.html`
*   **[F-07-01] 消费统计**
    *   展示已兑换商品总数和总消耗星数。
*   **[F-07-02] 兑换明细**
    *   展示兑换的商品、时间、消耗分值（琥珀色高亮）。
    *   支持展示兑换备注。

### 2.8 系统设置 (Settings)
**页面**: `settings.html`
*   **[F-08-01] 多语言支持 (I18n)**
    *   支持 **English / 中文** 实时切换。
    *   切换后所有页面文本即时更新。
*   **[F-08-02] 数据维护**
    *   **数据备份**：导出数据功能（UI预留）。
    *   **清空数据**：危险操作，需二次确认。
*   **[F-08-03] 关于**
    *   展示 App 版本号及隐私条款入口。

---

## 3. 交互与体验设计 (UX/UI)

### 3.1 组件化设计
系统采用原生 Web Components 封装核心组件，确保全站体验一致：
*   `<app-header>`: 统一的顶部导航，支持返回、标题、右侧操作区。
*   `<app-bottom-nav>`: 底部主导航，支持高亮状态。
*   `<app-confirm-modal>`: 统一的二次确认弹窗，支持 Primary/Danger 两种风格。
*   `<app-fab>`: 统一的右下角悬浮操作按钮。

### 3.2 视觉风格 (Soft Gamified)
*   **配色**：以暖色调为主，主色 `#FAC638` (活力黄)，背景 `#FFFCF5` (暖白)。
*   **质感**：大量使用圆角 (Rounded)、柔和阴影 (Soft Shadow) 和卡片式布局。
*   **反馈**：按钮点击均有缩放 (`active:scale-95`) 和颜色加深反馈。

### 3.3 交互逻辑
*   **防误触**：所有删除、重置、购买操作均强制要求二次确认。
*   **连贯性**：列表 -> 详情 -> 编辑 -> 保存 -> 返回列表，导航路径闭环完整。
*   **空状态处理**：(需开发阶段补充) 列表为空时的占位图。
